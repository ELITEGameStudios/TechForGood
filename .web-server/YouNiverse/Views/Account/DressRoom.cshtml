@model DressRoomViewModel;

@{
	ViewData["Title"] = "Dress Room";
}

<link rel="stylesheet" href="css/site.css">

<header>
	<a asp-action="Index">YOUniverse</a>
	<form method="post" action="/Account/Signout">
		<input type="submit" value="Signout" />
	</form>
</header>
<h1>Dress Room</h1>

<div class="parent">
	<div class="tabs">

		@foreach (EItemSlot slot in Enum.GetValues(typeof(EItemSlot)))
		{
			<div class="tab">
				<input type="radio" id="@slot.ToString()" name="item-tabs" checked>
				<label for="@slot.ToString()">@EnumHelpers.GetDisplayName(@slot)</label>

				<div class="content">
					@foreach (var unlockedItem in Model.Categories[(int)slot].UnlockedItems)
					{
						<input type="radio" name="@slot.ToString()-items" class="item-button">
						<img src="/items/@(unlockedItem.Id + "_side.png")">
					}
				</div>
			</div>
		}

	</div>

	<div class="character">

	</div>
</div>

<style>
	.text-right {
		text-align: right;
		float: right;
	}

	.tabs {
		position: relative;
		min-height: 200px;
		/* This part sucks */
		clear: both;
		margin: 25px 0;

		width: 600px;
	}

	.tab {
		float: left;
	}

	.tab label {
		background: #eee;
		padding: 10px;
		border: 1px solid #ccc;
		margin-left: -1px;
		position: relative;
		left: 1px;
	}

	.tab [type=radio] {
		display: none;
	}

	.content {
		position: absolute;
		top: 28px;
		left: 0;
		background: white;
		right: 0;
		bottom: 0;
		padding: 20px;
		border: 1px solid #ccc;
	}

	[type=radio]:checked~label {
		background: white;
		border-bottom: 1px solid white;
		z-index: 2;
	}

	[type=radio]:checked~label~.content {
		z-index: 1;
	}

	.parent {
		display: flex;
	}

	.item-button[type="radio"] {
		position: absolute;
		opacity: 0;
		width: 0;
		height: 0;
	}

	.item-button[type="radio"]+img {
		cursor: pointer;
		border: 2px solid transparent;
		transition: border 0.3s ease;
	}

	.item-button[type="radio"]:checked+img {
		border: 2px solid #0078D7;
		/* Highlight selected image */
		border-radius: 8px;
	}
</style>